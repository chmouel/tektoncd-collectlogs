---
apiVersion: tekton.dev/v1alpha1
kind: Task
metadata:
  name: fail-success
spec:
  steps:
    - name: baconipsum
      image: curlimages/curl
      script: |
        #!/bin/sh -e
        curl -s 'https://baconipsum.com/api/?type=meat-and-filler&format=html'
        echo "Success getting baconipsum, this should be highlight in GREEN!"
---
apiVersion: tekton.dev/v1alpha1
kind: Task
metadata:
  name: failing
spec:
  steps:
    - name: failing
      image: curlimages/curl
      script: |
        #!/bin/sh -e
        echo "ERROR: Running this!!! The wonderful log viewer should highlight this line in RED"
        echo "Sorry about this this failed on purpose"
        exit 1
---
apiVersion: tekton.dev/v1alpha1
kind: Pipeline
metadata:
  name: pipeline-failmixed
spec:
  tasks:
  - name: failing
    taskRef:
      name: failing
  - name: fail-success
    taskRef:
      name: fail-success

# ---
# apiVersion: tekton.dev/v1alpha1
# kind: PipelineRun
# metadata:
#   name: pipelinerun-randomwords-run
# spec:
#   pipelineRef:
#     name: pipeline-randomwords
